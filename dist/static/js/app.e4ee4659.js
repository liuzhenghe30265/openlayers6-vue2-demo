(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);p&&p(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02a9":function(e,t,n){"use strict";n("e582")},"435f":function(e,t){e.exports="data:image/png;base64,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"},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"nav"},e._l(e.routes,(function(n){return t("router-link",{key:n.name,attrs:{to:n.path}},[e._v(e._s(n.name)+" ")])})),1),t("div",{staticClass:"map-main"},[t("router-view")],1)])},r=[],i={name:"App",components:{},data(){return{routes:[]}},mounted(){this.routes=this.$router.options.routes}},s=i,l=(n("02a9"),n("2877")),c=Object(l["a"])(s,o,r,!1,null,null,null),p=c.exports,u=n("8c4f"),m=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}})},h=[],d=(n("5bc0"),n("5eee")),y=n("a2c7"),g=n("480c"),w=n("2ef1"),f=n("21bc"),v=n("9e15"),A={name:"",data(){return{map:null}},mounted(){this.initMap()},methods:{singleClickFun(){this.map.on("singleclick",e=>{console.log(e),console.log(e.coordinate[0],e.coordinate[1])})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new v["a"]({extent:[116.22979869019117,39.78578351593684,116.56048958074179,40.077314154870024]})])}),this.map.addLayer(t),this.singleClickFun()}}},O=A,x=Object(l["a"])(O,m,h,!1,null,"bb9aab52",null),b=x.exports,L=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}})},k=[],S=n("f2f0"),C=n("1e00"),E={name:"GeoServer",data(){return{map:null}},mounted(){this.initMap()},methods:{singleClickFun(){this.map.on("singleclick",e=>{console.log(e);const t=this.map.getView(),n=new S["a"]({url:"https://ahocevar.com/geoserver/wms",params:{LAYERS:"topp:states",TILED:!0},serverType:"geoserver",transition:0}),a=t.getResolution(),o=n.getFeatureInfoUrl(e.coordinate,a,"EPSG:4326",{INFO_FORMAT:"application/json"});o&&fetch(o).then(e=>e.json()).then(e=>{console.log(e)})})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[-101.44058,39.816105],zoom:5}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t);const n=new g["a"]({source:new S["a"]({url:"https://ahocevar.com/geoserver/wms",params:{LAYERS:"topp:states",TILED:!0},serverType:"geoserver",transition:0}),visible:!0,zIndex:9,className:"wms"});this.map.addLayer(n),this.singleClickFun()}}},T=E,M=Object(l["a"])(T,L,k,!1,null,null,null),B=M.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.addSymbolMarkers(e.markersData)}}},[e._v("添加标注")]),t("button",{on:{click:function(t){return e.removeLayerByName("矢量标注图层")}}},[e._v("清除")])])])},z=[],F=(n("14d9"),n("4cdf")),P=n("f403"),I=n("3e6b"),j=n("5831"),G=n("6c77"),Y=n("6cbf"),D=n("8295"),U=n("83a6"),V=n("8682"),Q={name:"CustomSymbols",data(){return{map:null,markersData:[{address:"marker1",x:116.40182752977934,y:39.92476619935702,type:1},{address:"marker2",x:116.42764915596571,y:39.949683921105375,type:2},{address:"marker3",x:116.48107607733336,y:39.88376327014636,type:2},{address:"marker4",x:116.34883914958563,y:39.96384062028598,type:3},{address:"marker5",x:116.3174412108573,y:39.86192606545161,type:3}]}},mounted(){this.initMap()},methods:{removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},setSymbolStyle(e,t){const n=[];return n.push(new G["c"]({image:new Y["a"]({src:t,anchor:[.5,1],scale:.5}),text:new D["a"]({font:"14px sans-serif",maxAngle:30,offsetx:10,offsetY:10,text:e,fill:new U["a"]({color:"#000"}),stroke:new V["a"]({color:"#fff",width:5})})})),n},addSymbolMarkers(e){let t="";const a=new I["a"]({source:new j["a"],zIndex:9,name:"矢量标注图层"});this.map.addLayer(a);const o=[];for(let r=0;r<e.length;r++){t=1===e[r].type?n("435f"):2===e[r].type?n("ff2f"):n("ad16");const a=new F["a"]({geometry:new P["a"]([e[r].x,e[r].y]),data:e[r]});a.setStyle(this.setSymbolStyle(e[r].address,t)),o.push(a)}a.getSource().addFeatures(o)},singleClickFun(){this.map.on("singleclick",e=>{console.log(e);const t=!1;if(t){const t="DLQ:DLQYYCOMMUNITY,DLQ:DLQYYGRID,DLQ:DLQFHR,DLQ:DLQWGGLY",n=this.map.getView().getResolution(),a=new S["a"]({url:"http://******/geoserver/wms",params:{LAYERS:t,TILED:!0},serverType:"geoserver",transition:0}),o=a.getFeatureInfoUrl(e.coordinate,n,"EPSG:4326",{INFO_FORMAT:"application/json"});this.map.hasFeatureAtPixel(e.pixel),o&&fetch(o).then(e=>e.json()).then(e=>{console.log(e)})}else{const t=this.map.forEachFeatureAtPixel(e.pixel,(e,t)=>e);if(t){const e=t.get("data");console.log(e)}}})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},H=Q,R=Object(l["a"])(H,N,z,!1,null,null,null),J=R.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{display:"none"}},[t("div",{ref:"positioning",staticStyle:{width:"50px",height:"50px"}},[t("img",{attrs:{src:e.positioningUrl,width:"100%",alt:""}})])]),t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.addSymbolMarkers(e.markersData)}}},[e._v("添加标注")]),t("button",{on:{click:function(t){return e.clearSymbolMarkers()}}},[e._v("清除")]),t("div",[e._v(" 点击已添加的标注，视图中心切换到标注位置，并添加覆盖物图层 ")])])])},q=[],K=n("0710"),W=n("ca42"),Z={name:"",data(){return{positioningUrl:n("78e1"),markersData:[{address:"marker1",x:116.40182752977934,y:39.92476619935702,type:1},{address:"marker2",x:116.42764915596571,y:39.949683921105375,type:2},{address:"marker3",x:116.48107607733336,y:39.88376327014636,type:2},{address:"marker4",x:116.34883914958563,y:39.96384062028598,type:3},{address:"marker5",x:116.3174412108573,y:39.86192606545161,type:3}],map:null}},mounted(){this.initMap()},methods:{clearSymbolMarkers(){this.removeOverLay("定位"),this.removeLayerByName("矢量标注图层")},changeCenterPoint(e){this.map.getView().animate({center:e,duration:500,easing:W["b"]})},removeOverLay(e){const t=this.getOverlays(e);this.map.removeOverlay(t)},getOverlays(e){if(e){const t=this.map.getOverlayById(e);return t}{const e=this.map.getOverlays().getArray();return e}},addOverlayFun(e,t){const n=t||"";this.removeOverLay(n);const a=this.$refs.positioning,o=new K["a"]({id:n,position:e,positioning:"center-center",element:a,stopEvent:!1,className:"positioning"});this.map.addOverlay(o)},removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},setSymbolStyle(e,t){const n=[];return n.push(new G["c"]({image:new Y["a"]({src:t,anchor:[.5,1],scale:.5}),text:new D["a"]({font:"14px sans-serif",maxAngle:30,offsetx:10,offsetY:10,text:e,fill:new U["a"]({color:"#000"}),stroke:new V["a"]({color:"#fff",width:5})})})),n},addSymbolMarkers(e){let t="";const a=new I["a"]({source:new j["a"],zIndex:9,name:"矢量标注图层"});this.map.addLayer(a);const o=[];for(let r=0;r<e.length;r++){t=1===e[r].type?n("435f"):2===e[r].type?n("ff2f"):n("ad16");const a=new F["a"]({geometry:new P["a"]([e[r].x,e[r].y]),data:e[r]});a.setStyle(this.setSymbolStyle(e[r].address,t)),o.push(a)}a.getSource().addFeatures(o)},singleClickFun(){this.map.on("singleclick",e=>{console.log(e);const t=this.map.forEachFeatureAtPixel(e.pixel,(e,t)=>e);if(t){const e=t.get("data"),n=[e.x,e.y];this.changeCenterPoint(n),this.addOverlayFun(n,"定位")}})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},_=Z,$=Object(l["a"])(_,X,q,!1,null,null,null),ee=$.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.spaceMeasureFun("Point")}}},[e._v("坐标测量")]),t("button",{on:{click:function(t){return e.spaceMeasureFun("LineString")}}},[e._v("距离测量")]),t("button",{on:{click:function(t){return e.spaceMeasureFun("Polygon")}}},[e._v("面积测量")]),t("button",{on:{click:e.removeMeasureFun}},[e._v("清除")])])])},ne=[],ae=n("ce2c"),oe=n("790a"),re=n("ac29"),ie=n("5bc3"),se=n("7a09"),le={name:"",data(){return{measureOption:{layer:null,sketch:null,helpTooltipElement:null,helpTooltip:null,measureTooltipElement:null,measureTooltip:null,continuePolygonMsg:"",continueLineMsg:"",helpMsg:"",draw:null,listener:null,popupcloser:null},map:null}},mounted(){this.initMap()},methods:{removeMeasureFun(){this.removeLayerByName("空间测量"),this.removeAllOverlay()},createMeasureTooltip(){this.measureOption.measureTooltipElement&&this.measureOption.measureTooltipElement.parentNode.removeChild(this.measureOption.measureTooltipElement),this.measureOption.measureTooltipElement=document.createElement("div"),this.measureOption.measureTooltipElement.className="ol-tooltip ol-tooltip-measure",this.measureOption.measureTooltip=new K["a"]({id:"空间测量",element:this.measureOption.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.measureOption.measureTooltip)},createHelpTooltip(){this.measureOption.helpTooltipElement&&this.measureOption.helpTooltipElement.parentNode.removeChild(this.measureOption.helpTooltipElement),this.measureOption.helpTooltipElement=document.createElement("div"),this.measureOption.helpTooltipElement.className="ol-tooltip hidden",this.measureOption.helpTooltip=new K["a"]({id:"空间测量",element:this.measureOption.helpTooltipElement,offset:[15,0],positioning:"center-left"})},addInteractionFun(e){this.map.removeInteraction(this.measureOption.draw);const t=new j["a"];this.measureOption.draw=new re["a"]({source:t,type:e,style:new G["c"]({fill:new U["a"]({color:"rgba(255,255,255,.5)"}),stroke:new V["a"]({color:"blue",lineDash:[10,10],width:2}),image:new ae["a"]({radius:5,stroke:new V["a"]({color:"yellow"}),fill:new U["a"]({color:"red"})})})}),this.map.addInteraction(this.measureOption.draw),this.measureOption.draw.on("drawstart",e=>{this.measureOption.sketch=e.feature;const t=this.measureOption.sketch.getGeometry();if(t instanceof P["a"]){const e=this.measureOption.sketch.getGeometry().flatCoordinates;this.measureOption.measureTooltipElement.innerHTML=e,this.measureOption.measureTooltip.setPosition(e)}else{let t=e.coordinate;this.measureOption.listener=this.measureOption.sketch.getGeometry().on("change",e=>{const n=e.target;let a;n instanceof ie["a"]?(a=this.formatArea(n),t=n.getInteriorPoint().getCoordinates()):n instanceof se["a"]&&(a=this.formatLength(n),t=n.getLastCoordinate()),this.measureOption.measureTooltipElement.innerHTML=a,this.measureOption.measureTooltip.setPosition(t)})}}),this.measureOption.draw.on("drawend",()=>{this.measureOption.measureTooltipElement.appendChild(this.measureOption.popupcloser),this.measureOption.measureTooltipElement.className="ol-tooltip ol-tooltip-static",this.measureOption.measureTooltip.setOffset([0,-7]),this.measureOption.sketch=null,this.measureOption.measureTooltipElement=null,this.createMeasureTooltip(),this.map.un("pointermove",this.pointerMoveHandler),this.map.removeInteraction(this.measureOption.draw),this.measureOption.helpTooltipElement.classList.add("hidden")});const n=new I["a"]({source:t,style:new G["c"]({fill:new U["a"]({color:"rgba(255,255,255,.5)"}),stroke:new V["a"]({color:"blue",lineDash:[10,10],width:2}),image:new ae["a"]({radius:5,stroke:new V["a"]({color:"yellow"}),fill:new U["a"]({color:"red"})})}),zIndex:9,name:"空间测量"});this.map.addLayer(n),this.createMeasureTooltip(),this.createHelpTooltip(),this.measureOption.popupcloser=document.createElement("a"),this.measureOption.popupcloser.innerHTML='<span style="color:red;font-size:18px;">X</span>',this.measureOption.popupcloser.href="javascript:void(0);",this.measureOption.popupcloser.classList.add("ol-popup-closer"),this.measureOption.popupcloser.onclick=e=>{const t=e.target.parentNode.parentNode.parentNode;t.remove(),n.getSource().clear()}},formatLength(e){const t=this.map.getView().getProjection(),n=Object(oe["c"])(e,{projection:t});let a;return a=n>100?Math.round(n/1e3*100)/100+" km":Math.round(100*n)/100+" m",a},formatArea(e){const t=this.map.getView().getProjection(),n=Object(oe["a"])(e,{projection:t});let a;return a=n>1e4?Math.round(n/1e6*100)/100+" km<sup>2</sup>":Math.round(100*n)/100+" m<sup>2</sup>",a},pointerMoveHandler(e){if(!e.dragging){if(this.measureOption.sketch){const e=this.measureOption.sketch.getGeometry();e instanceof ie["a"]?this.measureOption.helpMsg=this.measureOption.continuePolygonMsg:e instanceof se["a"]&&(this.measureOption.helpMsg=this.measureOption.continueLineMsg)}this.measureOption.helpTooltipElement.innerHTML=this.measureOption.helpMsg,this.measureOption.helpTooltip.setPosition(e.coordinate),this.measureOption.helpTooltipElement.classList.remove("hidden")}},spaceMeasureFun(e){this.map.on("pointermove",this.pointerMoveHandler),this.map.getViewport().addEventListener("mouseout",()=>{this.measureOption.helpTooltipElement.classList.add("hidden")}),this.addInteractionFun(e)},removeAllOverlay(){const e=this.getOverlays();e.forEach(e=>{this.map.removeOverlay(e)})},removeOverLay(e){const t=this.getOverlays(e);this.map.removeOverlay(t)},getOverlays(e){if(e){const t=this.map.getOverlayById(e);return t}{const e=this.map.getOverlays().getArray();return e}},removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},singleClickFun(){this.map.on("singleclick",e=>{console.log(e)})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},ce=le,pe=Object(l["a"])(ce,te,ne,!1,null,null,null),ue=pe.exports,me=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.plottingFun("Point")}}},[e._v("点")]),t("button",{on:{click:function(t){return e.plottingFun("LineString")}}},[e._v("线")]),t("button",{on:{click:function(t){return e.plottingFun("Polygon")}}},[e._v("面")]),t("button",{on:{click:function(t){return e.plottingFun("Text")}}},[e._v("文字")]),t("button",{on:{click:e.removePlotting}},[e._v("清除")])])])},he=[],de={name:"",data(){return{plottingOption:{textVector:null,layer:null,sketch:null,draw:null,listener:null},map:null}},mounted(){this.initMap()},methods:{removePlotting(){this.removeLayerByName("标绘"),this.map.removeInteraction(this.plottingOption.draw)},addInteractionFun(e){console.log(e),this.map.removeInteraction(this.plottingOption.draw);const t=new j["a"];let n=null,a=e;"Text"!==e?(a=e,n=new G["c"]({fill:new U["a"]({color:"rgba(255,255,255,.5)"}),stroke:new V["a"]({color:"blue",lineDash:[10,10],width:2}),image:new ae["a"]({radius:5,stroke:new V["a"]({color:"yellow"}),fill:new U["a"]({color:"red"})})})):a="Point",this.plottingOption.draw=new re["a"]({source:t,type:a,style:new G["c"]({fill:new U["a"]({color:"rgba(255,255,255,.5)"}),stroke:new V["a"]({color:"blue",lineDash:[10,10],width:2}),image:new ae["a"]({radius:5,stroke:new V["a"]({color:"yellow"}),fill:new U["a"]({color:"red"})})})}),this.map.addInteraction(this.plottingOption.draw),this.plottingOption.draw.on("drawstart",n=>{"Text"===e?this.$prompt("","请输入文字",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e})=>{this.plottingOption.textVector=new I["a"]({source:t,style:new G["c"]({text:new D["a"]({font:"14px sans-serif",maxAngle:30,offsetx:10,offsetY:10,text:e,fill:new U["a"]({color:"#000"}),stroke:new V["a"]({color:"#fff",width:5})})}),zIndex:9,name:"标绘"}),this.map.addLayer(this.plottingOption.textVector),this.map.removeInteraction(this.plottingOption.draw)}).catch(()=>{this.$message({type:"info",message:"取消输入"}),this.map.removeInteraction(this.plottingOption.draw)}):this.plottingOption.sketch=n.feature});const o=new I["a"]({source:t,style:new G["c"]({fill:new U["a"]({color:"rgba(255,255,255,.5)"}),stroke:new V["a"]({color:"blue",lineDash:[10,10],width:2}),image:new ae["a"]({radius:5,stroke:new V["a"]({color:"yellow"}),fill:new U["a"]({color:"red"})})}),zIndex:9,name:"标绘"});"Text"!==e&&this.map.addLayer(o)},plottingFun(e){this.addInteractionFun(e)},removeOverLay(e){const t=this.getOverlays(e);this.map.removeOverlay(t)},getOverlays(e){if(e){const t=this.map.getOverlayById(e);return t}{const e=this.map.getOverlays().getArray();return e}},removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},singleClickFun(){this.map.on("singleclick",e=>{console.log(e)})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},ye=de,ge=Object(l["a"])(ye,me,he,!1,null,null,null),we=ge.exports,fe=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.addHeatmapFun(e.heatmapData)}}},[e._v("热力图")]),t("button",{on:{click:function(t){return e.removeLayerByName("热力图")}}},[e._v("清除")])])])},ve=[],Ae=n("4787"),Oe=n("a2e1"),xe={name:"",data(){return{heatmapData:{type:"FeatureCollection",features:[{type:"Point",coordinates:[116.40182752977934,39.92476619935702],count:100},{type:"Point",coordinates:[116.42764915596571,39.949683921105375],count:200},{type:"Point",coordinates:[116.48107607733336,39.88376327014636],count:300},{type:"Point",coordinates:[116.43154238235083,39.94546346522044],count:400},{type:"Point",coordinates:[116.40311901342001,39.92316223836612],count:500}]},map:null}},mounted(){this.initMap()},methods:{addHeatmapFun(e){const t=new Ae["a"]({source:new j["a"]({features:(new Oe["a"]).readFeatures(e)}),zIndex:9,opacity:.5,name:"热力图",blur:20,radius:20});this.map.addLayer(t)},removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},singleClickFun(){this.map.on("singleclick",e=>{console.log(e)})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},be=xe,Le=Object(l["a"])(be,fe,ve,!1,null,null,null),ke=Le.exports,Se=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.addClusterLayer(e.clusterData)}}},[e._v("聚合")]),t("button",{on:{click:function(t){return e.removeLayerByName("聚合图层")}}},[e._v("清除")])])])},Ce=[],Ee=n("55bd"),Te={name:"",data(){return{clusterData:[{name:"1",coordinates:[116.40182752977934,39.92476619935702]},{name:"2",coordinates:[116.42764915596571,39.949683921105375]},{name:"3",coordinates:[116.48107607733336,39.88376327014636]},{name:"4",coordinates:[116.43154238235083,39.94546346522044]},{name:"5",coordinates:[116.40311901342001,39.92316223836612]},{name:"6",coordinates:[116.40436524149327,39.92102890235143]}],map:null}},mounted(){this.initMap()},methods:{pointerMove(){const e=this;e.map.on("pointermove",t=>{e.map.getTargetElement().style.cursor=e.map.hasFeatureAtPixel(t.pixel)?"pointer":""})},setClusterStyle(){return e=>{const t=e.get("features").length;let n="";n=1===t?"green":2===t?"yellow":"red";const a=new G["c"]({image:new ae["a"]({radius:15,stroke:new V["a"]({color:"#fff"}),fill:new U["a"]({color:n})}),text:new D["a"]({text:t.toString(),fill:new U["a"]({color:"#000"}),stroke:new V["a"]({color:"#fff",width:5})})});return a}},addClusterLayer(e){const t=this,n=new j["a"],a=new Ee["a"]({distance:parseInt(20,10),source:n}),o=new I["a"]({source:a,style:this.setClusterStyle.call(t),name:"聚合图层",zIndex:9});t.map.addLayer(o);for(let r=0;r<e.length;r++){const t=e[r].coordinates,a=new F["a"]({geometry:new P["a"](t)});a.set("name",e[r].name),a.set("value",e[r].value),a.set("type","cluster"),n.addFeature(a),o.getSource().addFeatures(a)}t.pointerMove()},removeLayerByName(e){this.getLayerByName(e);const t=this.getLayerByName(e);t.forEach(e=>{this.map.removeLayer(e)})},getLayerByName(e){const t=this.getAllLayers(),n=t.filter(t=>t.get("name")===e);return n},getAllLayers(){const e=this.map.getLayers().getArray();return e},singleClickFun(){this.map.on("singleclick",e=>{console.log(e)})},initMap(){const e=new y["a"]({projection:"EPSG:4326",center:[116.395645038,39.9299857781],zoom:12}),t=new g["a"]({source:new w["a"]({url:"http://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x={x}&y={y}&z={z}"})});this.map=new d["a"]({layers:[],target:"map-container",view:e,controls:Object(f["a"])().extend([new C["a"]])}),this.map.addLayer(t),this.singleClickFun()}}},Me=Te,Be=Object(l["a"])(Me,Se,Ce,!1,null,null,null),Ne=Be.exports;a["default"].use(u["a"]);const ze=[{path:"/",name:"初始化",component:b},{path:"/GeoServer",name:"GeoServer",component:B},{path:"/CustomSymbols",name:"自定义矢量标注",component:J},{path:"/Overlay",name:"覆盖物图层",component:ee},{path:"/Plotting",name:"标绘",component:we},{path:"/Measure",name:"空间测量",component:ue},{path:"/Heatmap",name:"热力图",component:ke},{path:"/Cluster",name:"聚合",component:Ne}],Fe=new u["a"]({routes:ze});var Pe=Fe,Ie=n("2f62");a["default"].use(Ie["a"]);var je=new Ie["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ge=(n("7371"),n("5c96")),Ye=n.n(Ge);n("0fae");a["default"].use(Ye.a),a["default"].config.productionTip=!1,new a["default"]({router:Pe,store:je,render:e=>e(p)}).$mount("#app")},7371:function(e,t,n){},"78e1":function(e,t,n){e.exports=n.p+"static/img/positioning.ffbf7689.gif"},ad16:function(e,t){e.exports="data:image/png;base64,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"},e582:function(e,t,n){},ff2f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADC0lEQVR4nO2azZHqMAyAtwRKSAl0sCkhMwnnJykFLB2QDpYOlpvNXuCGzSXpADqADnY7yDsQ3iMmhPwbJ9GMTpoo8hdbluW8vTUoRBQAgN2kT6MEESMiCnTHoU1GAIgRIi51x6FNiChGxEh3HNpkBDBkAAAwSQCcdMeiRQDAJqKYiGLdsWiREcCQASDiOxEtrgAQ8Q8ATHXH1boQESDiz3XgqiLiT2/PBrdTPk8TCJbueBsXRFwVAZAo6I63UQGACSIeSgD4AoCJ7rgbESKCEgNXl4LZiREArCqDv4FgdpVIRPM6AIgoNnJXAICPvO2uykwwBoTv+05TAzdye0TEbRsAEg10j++pJH0+NfCj7/sOANhFNNk5fnsDoMr6RcRlbwDQpbCxivoAgCkinvoEYPA5YAQweADJJUghJaJj3wBABT9Z9UTQfMQNywMA8wp+wj4BiBExLKGPegeB+j6Xi6XHRVhXXS6+nE1YvwfRZRL0uJh7XMZNqcvkyiwATEaNAuCifv/BZAAel/XvKLIAIOKqjI+kk3QuDYDt7Fv77Hs/TQ9QzPPtLQHwfd+p4OfpYUgFkOUnD9CdvcUZcKDLTVBR/ay0BJ7MAHctUx/C2YSTTgAMPgeMADoDILYek8E/5WKbZ78UUd0AOBIRFG2JJQnwaUtMBZBVyb1EEuxqF3hZAFTyrg8ArCItMRWAy+XGW8vFVV0uN8oSCPPtxueAwSfBgQOYfe9Tt8kO21mpJaKzEGqjJWZMKUzVOkJZfoJU8GoSVL6wx3a2kgT1HIaoWk8w7FUOaKMlZhSALpKgy8XSYzv7v8ogZWdylbJntNSMBpAVz6skwU4AqKXw3TbXdwAuF6d0u1seyti7BBCoWvBHylwAxiTBrOcK/kqbC8Bl4uwxGV3VZeI8KAAO21m39vtSV2zV96pNE6MBZPlNJ0EZ3NmVrdJoAN5aLmbf+/erulx8DAvAMx0BPAXwWxtAsq21AkDtLapfrz6A+yRZFcI877z/AMA055ltVmPV2YQTl8lVIwCYjIr8H/AXsY86ef34CCsAAAAASUVORK5CYII="}});